{"version":3,"sources":["index.js"],"names":["mapboxgl","accessToken","timer","map","Map","container","style","center","zoom","on","e","window","features","loadImage","error","image","addImage","addSource","type","data","addLayer","console","log","document","getElementById","value","properties","name","userfilter","flyTo","coordinates","keyword","cb","toUpperCase","clearTimeout","setTimeout","users","querySelectorAll","usersData","firstBL","querySelector","classList","remove","i","length","element","userName","textContent","area","indexOf","display","add","push","makerReLoad","usersAreas","split","removeLayer","newFeatures","filter","currentArea","includes","toString","getSource","setData"],"mappings":";;;AA4gBA,aA5gBA,IAAA,EAAA,EAAA,QAAA,2BA4gBA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GA3gBAA,SAASC,YAAc,gGAEvB,IA8dIC,EA9dAC,EAAM,IAAIH,SAASI,IAAI,CACvBC,UAAW,MAOXC,MAAO,mDAKPC,OAAQ,CAAC,UAAW,WACpBC,KAAM,MAKVL,EAAIM,GAAG,YAAa,SAAUC,MAM9BC,OAAOC,SAAW,CAAC,CACP,KAAA,UACI,SAAA,CACA,KAAA,QACO,YAAA,CAAC,YAAa,aAEnB,WAAA,CACM,aAAA,EACR,KAAA,gBAGhB,CACY,KAAA,UACI,SAAA,CACA,KAAA,QACO,YAAA,CAAC,UAAW,aAEjB,WAAA,CACM,aAAA,GACR,KAAA,gBAGhB,CACY,KAAA,UACI,SAAA,CACA,KAAA,QACO,YAAA,EAAE,WAAY,aAEnB,WAAA,CACM,aAAA,EACR,KAAA,aAGhB,CACY,KAAA,UACI,SAAA,CACA,KAAA,QACO,YAAA,EAAE,mBAAoB,oBAE3B,WAAA,CACM,aAAA,EACR,KAAA,aAGhB,CACY,KAAA,UACI,SAAA,CACA,KAAA,QACO,YAAA,EAAE,YAAa,aAEpB,WAAA,CACM,aAAA,EACR,KAAA,YAGhB,CACY,KAAA,UACI,SAAA,CACA,KAAA,QACO,YAAA,CAAC,aAAc,aAEpB,WAAA,CACM,aAAA,EACR,KAAA,sBAGhB,CACY,KAAA,UACI,SAAA,CACA,KAAA,QACO,YAAA,CAAC,aAAc,aAEpB,WAAA,CACM,aAAA,EACR,KAAA,sBAGhB,CACY,KAAA,UACI,SAAA,CACA,KAAA,QACO,YAAA,CAAC,oBAAqB,qBAE3B,WAAA,CACM,aAAA,EACR,KAAA,gBAGhB,CACY,KAAA,UACI,SAAA,CACA,KAAA,QACO,YAAA,EAAE,WAAY,aAEnB,WAAA,CACM,aAAA,EACR,KAAA,oBAGhB,CACY,KAAA,UACI,SAAA,CACA,KAAA,QACO,YAAA,EAAE,YAAa,aAEpB,WAAA,CACM,aAAA,EACR,KAAA,mBAGhB,CACY,KAAA,UACI,SAAA,CACA,KAAA,QACO,YAAA,EAAE,YAAa,aAEpB,WAAA,CACM,aAAA,EACR,KAAA,WAGhB,CACY,KAAA,UACI,SAAA,CACA,KAAA,QACO,YAAA,EAAE,WAAY,aAEnB,WAAA,CACM,aAAA,EACR,KAAA,mBAGhB,CACY,KAAA,UACI,SAAA,CACA,KAAA,QACO,YAAA,CAAC,mBAAoB,oBAE1B,WAAA,CACM,aAAA,EACR,KAAA,mBAGhB,CACY,KAAA,UACI,SAAA,CACA,KAAA,QACO,YAAA,CAAC,YAAa,YAEnB,WAAA,CACM,aAAA,EACR,KAAA,cAGhB,CACY,KAAA,UACI,SAAA,CACA,KAAA,QACO,YAAA,CAAC,YAAa,YAEnB,WAAA,CACM,aAAA,EACR,KAAA,YAGhB,CACY,KAAA,UACI,SAAA,CACA,KAAA,QACO,YAAA,CAAC,aAAc,YAEpB,WAAA,CACM,aAAA,EACR,KAAA,cAGhB,CACY,KAAA,UACI,SAAA,CACA,KAAA,QACO,YAAA,CAAC,WAAY,aAElB,WAAA,CACM,aAAA,EACR,KAAA,UAGhB,CACY,KAAA,UACI,SAAA,CACA,KAAA,QACO,YAAA,CAAC,WAAY,aAElB,WAAA,CACM,aAAA,EACR,KAAA,WAGhB,CACY,KAAA,UACI,SAAA,CACA,KAAA,QACO,YAAA,EAAE,WAAY,WAEnB,WAAA,CACM,aAAA,EACR,KAAA,aAGhB,CACY,KAAA,UACI,SAAA,CACA,KAAA,QACO,YAAA,CAAC,mBAAoB,oBAE1B,WAAA,CACM,aAAA,EACR,KAAA,mBAGhB,CACY,KAAA,UACI,SAAA,CACA,KAAA,QACO,YAAA,CAAC,kBAAmB,qBAEzB,WAAA,CACM,aAAA,EACR,KAAA,kBAGhB,CACY,KAAA,UACI,SAAA,CACA,KAAA,QACO,YAAA,CAAC,WAAY,aAElB,WAAA,CACM,aAAA,EACR,KAAA,kBAGhB,CACY,KAAA,UACI,SAAA,CACA,KAAA,QACO,YAAA,CAAC,WAAY,aAElB,WAAA,CACM,aAAA,EACR,KAAA,mBAGhB,CACY,KAAA,UACI,SAAA,CACA,KAAA,QACO,YAAA,CAAC,WAAY,aAElB,WAAA,CACM,aAAA,EACR,KAAA,kBAGhB,CACY,KAAA,UACI,SAAA,CACA,KAAA,QACO,YAAA,CAAC,mBAAoB,qBAE1B,WAAA,CACM,aAAA,EACR,KAAA,gBAGhB,CACY,KAAA,UACI,SAAA,CACA,KAAA,QACO,YAAA,CAAC,mBAAoB,qBAE1B,WAAA,CACM,aAAA,EACR,KAAA,aAGhB,CACY,KAAA,UACI,SAAA,CACA,KAAA,QACO,YAAA,CAAC,kBAAmB,qBAEzB,WAAA,CACM,aAAA,EACR,KAAA,UAGhB,CACY,KAAA,UACI,SAAA,CACA,KAAA,QACO,YAAA,CAAC,kBAAmB,oBAEzB,WAAA,CACM,aAAA,EACR,KAAA,aAGhB,CACY,KAAA,UACI,SAAA,CACA,KAAA,QACO,YAAA,EAAE,mBAAoB,oBAE3B,WAAA,CACM,aAAA,EACR,KAAA,mBAGhB,CACY,KAAA,UACI,SAAA,CACA,KAAA,QACO,YAAA,EAAE,SAAW,YAElB,WAAA,CACM,aAAA,EACR,KAAA,wBAGhB,CACY,KAAA,UACI,SAAA,CACA,KAAA,QACO,YAAA,EAAE,kBAAmB,oBAE1B,WAAA,CACM,aAAA,EACR,KAAA,mBAGhB,CACY,KAAA,UACI,SAAA,CACA,KAAA,QACO,YAAA,CAAC,WAAY,aAElB,WAAA,CACM,aAAA,EACR,KAAA,iBAGhB,CACY,KAAA,UACI,SAAA,CACA,KAAA,QACO,YAAA,CAAC,YAAa,aAEnB,WAAA,CACM,aAAA,EACR,KAAA,kBAGhB,CACY,KAAA,UACI,SAAA,CACA,KAAA,QACO,YAAA,CAAC,YAAa,aAEnB,WAAA,CACM,aAAA,EACR,KAAA,kBAGhB,CACY,KAAA,UACI,SAAA,CACA,KAAA,QACO,YAAA,CAAC,YAAa,aAEnB,WAAA,CACM,aAAA,EACR,KAAA,mBAGhB,CACY,KAAA,UACI,SAAA,CACA,KAAA,QACO,YAAA,CAAC,YAAa,aAEnB,WAAA,CACM,aAAA,EACR,KAAA,aAGhB,CACY,KAAA,UACI,SAAA,CACA,KAAA,QACO,YAAA,CAAC,WAAY,aAElB,WAAA,CACM,aAAA,EACR,KAAA,mBAIhBT,EAAIM,GAAG,OAAQ,WACXN,EAAIU,UAAU,8FAA+F,SAAUC,EAAOC,GAItHD,GAAAA,EAAO,MAAMA,EACjBX,EAAIa,SAAS,MAAOD,GACpBZ,EAAIc,UAAU,WAAY,CACtBC,KAAM,UACNC,KAAM,CACM,KAAA,oBACIR,SAAAA,OAAOC,YAI3BT,EAAIiB,SAAS,CACH,GAAA,iBACE,KAAA,SACE,OAAA,WACA,OAAA,CACQ,aAAA,iBACD,YAAA,CACT,sBACA,yBAEkB,sBAAA,EACG,yBAAA,EACZ,YAAA,GACC,aAAA,MACD,YAAA,UAM7BjB,EAAIM,GAAG,QAAS,iBAAkB,SAAUC,GACxCW,QAAQC,IAAIZ,GACZa,SAASC,eAAe,cAAcC,MAAQf,EAAEE,SAAS,GAAGc,WAAWC,KACvEhB,OAAOiB,WAAWlB,EAAEE,SAAS,GAAGc,WAAWC,MAC3CxB,EAAI0B,MAAM,CACNtB,OAAQG,EAAEE,SAAS,GAAGc,WAAWI,gBAMzCnB,OAAOiB,WAAa,SAACG,EAASC,GAC1BrB,OAAOoB,QAAUA,EAAQE,cACzBZ,QAAQC,IAAIS,GACR7B,GACAgC,aAAahC,GAEjBA,EAAQiC,WAAW,WACXC,IAAAA,EAAQb,SAASc,iBAAiB,SACtChB,QAAQC,IAAIc,GACRE,IAAAA,EAAY,GACZC,GAAU,EACVhB,SAASiB,cAAc,mBACvBjB,SAASiB,cAAc,kBAAkBC,UAAUC,OAAO,iBAEzD,IAAA,IAAIC,EAAI,EAAGA,EAAIP,EAAMQ,OAAQD,IAAK,CAC/BE,IAAAA,EAAUT,EAAMO,GAChBG,EAAWD,EAAQL,cAAc,aAAaO,YAAYd,cAC1De,EAAOH,EAAQL,cAAc,qBAAqBO,YAAYd,cAC9DF,EAAUpB,OAAOoB,SACe,IAA/Be,EAASG,QAAQlB,KACU,IAA3BiB,EAAKC,QAAQlB,IACdc,EAAQvC,MAAM4C,QAAU,QACnBX,IACDlB,QAAQC,IAAI,gBAAiBwB,GAC7BD,EAAQJ,UAAUU,IAAI,iBACtBZ,GAAU,GAEdD,EAAUc,KAAK,CACXzB,KAAMmB,EACNE,KAAAA,KAGJH,EAAQvC,MAAM4C,QAAU,OAG5BlB,GACAA,EAAGM,IAER,MAIP3B,OAAO0C,YAAc,SAACf,GASdgB,IAAAA,EAAahB,EAAU,GAAGU,KAAKO,MAAM,KACzCpD,EAAIqD,YAAY,kBACZC,IAAAA,EAAc9C,OAAOC,SAAS8C,OAAO,SAAUC,GACxCL,OAAAA,EAAWM,SAASD,EAAYjC,WAAWC,KAAKkC,WAAW5B,iBAEtE9B,EAAI2D,UAAU,YAAYC,QAAQ,CACtB,KAAA,oBACIN,SAAAA,IAEhBtD,EAAIiB,SAAS,CACH,GAAA,iBACE,KAAA,SACE,OAAA,WACA,OAAA,CACQ,aAAA,iBACD,YAAA,CACT,sBACA,yBAEkB,sBAAA,EACG,yBAAA,EACZ,YAAA,GACC,aAAA,MACD,YAAA","file":"nomad-coders-map.efe3c56c.js","sourceRoot":"..","sourcesContent":["import spotImage from '/images/spot_black.png';\r\nmapboxgl.accessToken = 'pk.eyJ1Ijoic3VuZ2t1a2tpbSIsImEiOiJjamR3ZTM1OTUwNXY0MnFtb2E0OG04c2lpIn0.nNFmA7VqzxH3lTST9fiK4g';\r\n\r\nvar map = new mapboxgl.Map({\r\n    container: 'map',\r\n    //   style: 'mapbox://styles/mapbox/streets-v8',\r\n    //   style: 'mapbox://styles/mapbox/satellite-v9',\r\n    //   style: 'mapbox://styles/mapbox/outdoors-v10',\r\n    //   style: 'mapbox://styles/mapbox/light-v9',\r\n    //   style: 'mapbox://styles/mapbox/dark-v9',\r\n    //   style: 'mapbox://styles/mapbox/satellite-streets-v10',\r\n    style: 'mapbox://styles/mapbox/navigation-preview-day-v2',\r\n    //   style: 'mapbox://styles/mapbox/navigation-preview-night-v2',\r\n    //   style: 'mapbox://styles/mapbox/navigation-guidance-day-v2',\r\n    //   style: 'mapbox://styles/mapbox/navigation-guidance-night-v2',\r\n    // center: [139.691298,35.6691074],\r\n    center: [55.345276, 20.681379],\r\n    zoom: 1.5\r\n    // zoom: 7\r\n});\r\n\r\n\r\nmap.on('mousemove', function (e) {\r\n    // console.log(JSON.stringify(e.point));\r\n    // console.log(JSON.stringify(e.lngLat));\r\n});\r\n\r\n\r\nwindow.features = [{\r\n    \"type\": \"Feature\",\r\n    \"geometry\": {\r\n        \"type\": \"Point\",\r\n        \"coordinates\": [135.4776404, 34.6783987] // Japan Osaka\r\n    },\r\n    \"properties\": {\r\n        \"museum_count\": 2,\r\n        \"name\": 'Japan Osaka'\r\n    }\r\n},\r\n{\r\n    \"type\": \"Feature\",\r\n    \"geometry\": {\r\n        \"type\": \"Point\",\r\n        \"coordinates\": [139.75298, 35.7091074] // Japan Tokyo\r\n    },\r\n    \"properties\": {\r\n        \"museum_count\": 12,\r\n        \"name\": 'Japan Tokyo'\r\n    }\r\n},\r\n{\r\n    \"type\": \"Feature\",\r\n    \"geometry\": {\r\n        \"type\": \"Point\",\r\n        \"coordinates\": [-77.0846155, 38.8935755] // USA east\r\n    },\r\n    \"properties\": {\r\n        \"museum_count\": 8,\r\n        \"name\": 'USA east'\r\n    }\r\n},\r\n{\r\n    \"type\": \"Feature\",\r\n    \"geometry\": {\r\n        \"type\": \"Point\",\r\n        \"coordinates\": [-119.63646607811285, 37.62166841191262] // USA west\r\n    },\r\n    \"properties\": {\r\n        \"museum_count\": 7,\r\n        \"name\": 'USA west'\r\n    }\r\n},\r\n{\r\n    \"type\": \"Feature\",\r\n    \"geometry\": {\r\n        \"type\": \"Point\",\r\n        \"coordinates\": [-104.6537497, 37.2582904] // USA\r\n    },\r\n    \"properties\": {\r\n        \"museum_count\": 7,\r\n        \"name\": 'USA ect'\r\n    }\r\n},\r\n{\r\n    \"type\": \"Feature\",\r\n    \"geometry\": {\r\n        \"type\": \"Point\",\r\n        \"coordinates\": [145.5768603, -16.8804789] // AUSTRAILIA Cairns\r\n    },\r\n    \"properties\": {\r\n        \"museum_count\": 1,\r\n        \"name\": 'AUSTRAILIA Cairns'\r\n    }\r\n},\r\n{\r\n    \"type\": \"Feature\",\r\n    \"geometry\": {\r\n        \"type\": \"Point\",\r\n        \"coordinates\": [150.6517949, -33.8479271] // AUSTRAILIA Sydney\r\n    },\r\n    \"properties\": {\r\n        \"museum_count\": 1,\r\n        \"name\": 'AUSTRAILIA Sydney'\r\n    }\r\n},\r\n{\r\n    \"type\": \"Feature\",\r\n    \"geometry\": {\r\n        \"type\": \"Point\",\r\n        \"coordinates\": [171.65902071988393, -43.339630362187066] // NEW ZEALAND\r\n    },\r\n    \"properties\": {\r\n        \"museum_count\": 1,\r\n        \"name\": 'NEW ZEALAND'\r\n    }\r\n},\r\n{\r\n    \"type\": \"Feature\",\r\n    \"geometry\": {\r\n        \"type\": \"Point\",\r\n        \"coordinates\": [-73.8703841, 45.5579564] // CANADA MONTREAL\r\n    },\r\n    \"properties\": {\r\n        \"museum_count\": 1,\r\n        \"name\": 'CANADA MONTREAL'\r\n    }\r\n},\r\n{\r\n    \"type\": \"Feature\",\r\n    \"geometry\": {\r\n        \"type\": \"Point\",\r\n        \"coordinates\": [-114.2142365, 51.0130333] // CANADA CALGARY\r\n    },\r\n    \"properties\": {\r\n        \"museum_count\": 1,\r\n        \"name\": 'CANADA CALGARY'\r\n    }\r\n},\r\n{\r\n    \"type\": \"Feature\",\r\n    \"geometry\": {\r\n        \"type\": \"Point\",\r\n        \"coordinates\": [-102.9887805, 57.0882106] // CANADA\r\n    },\r\n    \"properties\": {\r\n        \"museum_count\": 5,\r\n        \"name\": 'CANADA'\r\n    }\r\n},\r\n{\r\n    \"type\": \"Feature\",\r\n    \"geometry\": {\r\n        \"type\": \"Point\",\r\n        \"coordinates\": [-79.4578006, 43.6430078] // CANADA TORONTO\r\n    },\r\n    \"properties\": {\r\n        \"museum_count\": 1,\r\n        \"name\": 'CANADA TORONTO'\r\n    }\r\n},\r\n{\r\n    \"type\": \"Feature\",\r\n    \"geometry\": {\r\n        \"type\": \"Point\",\r\n        \"coordinates\": [26.479994411132992, 63.30047989554316] // EUROPE FINLAND\r\n    },\r\n    \"properties\": {\r\n        \"museum_count\": 1,\r\n        \"name\": 'EUROPE FINLAND'\r\n    }\r\n},\r\n{\r\n    \"type\": \"Feature\",\r\n    \"geometry\": {\r\n        \"type\": \"Point\",\r\n        \"coordinates\": [103.7540048, 1.3437449] // SINGAPORE\r\n    },\r\n    \"properties\": {\r\n        \"museum_count\": 1,\r\n        \"name\": 'SINGAPORE'\r\n    }\r\n},\r\n{\r\n    \"type\": \"Feature\",\r\n    \"geometry\": {\r\n        \"type\": \"Point\",\r\n        \"coordinates\": [108.3406484, 12.867457] // VIETNAM\r\n    },\r\n    \"properties\": {\r\n        \"museum_count\": 1,\r\n        \"name\": 'VIETNAM'\r\n    }\r\n},\r\n{\r\n    \"type\": \"Feature\",\r\n    \"geometry\": {\r\n        \"type\": \"Point\",\r\n        \"coordinates\": [114.6262011, -2.1208471] // INDONESIA\r\n    },\r\n    \"properties\": {\r\n        \"museum_count\": 1,\r\n        \"name\": 'INDONESIA'\r\n    }\r\n},\r\n{\r\n    \"type\": \"Feature\",\r\n    \"geometry\": {\r\n        \"type\": \"Point\",\r\n        \"coordinates\": [53.4697234, 23.6297656] // U.A.E\r\n    },\r\n    \"properties\": {\r\n        \"museum_count\": 1,\r\n        \"name\": 'U.A.E'\r\n    }\r\n},\r\n{\r\n    \"type\": \"Feature\",\r\n    \"geometry\": {\r\n        \"type\": \"Point\",\r\n        \"coordinates\": [34.7775149, 31.5915916] // ISRAEL\r\n    },\r\n    \"properties\": {\r\n        \"museum_count\": 1,\r\n        \"name\": 'ISRAEL'\r\n    }\r\n},\r\n{\r\n    \"type\": \"Feature\",\r\n    \"geometry\": {\r\n        \"type\": \"Point\",\r\n        \"coordinates\": [-72.9341504, 2.500284] // COLOMBIA\r\n    },\r\n    \"properties\": {\r\n        \"museum_count\": 1,\r\n        \"name\": 'COLOMBIA'\r\n    }\r\n},\r\n{\r\n    \"type\": \"Feature\",\r\n    \"geometry\": {\r\n        \"type\": \"Point\",\r\n        \"coordinates\": [10.364291820486585, 51.84189746515267] // EUROPE GERMANY\r\n    },\r\n    \"properties\": {\r\n        \"museum_count\": 3,\r\n        \"name\": 'EUROPE GERMANY'\r\n    }\r\n},\r\n{\r\n    \"type\": \"Feature\",\r\n    \"geometry\": {\r\n        \"type\": \"Point\",\r\n        \"coordinates\": [2.380981070993272, 48.760181558556326] // EUROPE FRANCE\r\n    },\r\n    \"properties\": {\r\n        \"museum_count\": 1,\r\n        \"name\": 'EUROPE FRANCE'\r\n    }\r\n},\r\n{\r\n    \"type\": \"Feature\",\r\n    \"geometry\": {\r\n        \"type\": \"Point\",\r\n        \"coordinates\": [30.6894055, 39.0015493] // EUROPE TURKEY\r\n    },\r\n    \"properties\": {\r\n        \"museum_count\": 1,\r\n        \"name\": 'EUROPE TURKEY'\r\n    }\r\n},\r\n{\r\n    \"type\": \"Feature\",\r\n    \"geometry\": {\r\n        \"type\": \"Point\",\r\n        \"coordinates\": [18.3839918, 47.1556942] // EUROPE HUNGARY\r\n    },\r\n    \"properties\": {\r\n        \"museum_count\": 1,\r\n        \"name\": 'EUROPE HUNGARY'\r\n    }\r\n},\r\n{\r\n    \"type\": \"Feature\",\r\n    \"geometry\": {\r\n        \"type\": \"Point\",\r\n        \"coordinates\": [22.2384469, 38.1245117] // EUROPE GREECE\r\n    },\r\n    \"properties\": {\r\n        \"museum_count\": 1,\r\n        \"name\": 'EUROPE GREECE'\r\n    }\r\n},\r\n{\r\n    \"type\": \"Feature\",\r\n    \"geometry\": {\r\n        \"type\": \"Point\",\r\n        \"coordinates\": [123.13219338267453, 10.109205250718531] // PHILLIPINES\r\n    },\r\n    \"properties\": {\r\n        \"museum_count\": 4,\r\n        \"name\": 'PHILLIPINES'\r\n    }\r\n},\r\n{\r\n    \"type\": \"Feature\",\r\n    \"geometry\": {\r\n        \"type\": \"Point\",\r\n        \"coordinates\": [100.84431108128505, 16.708253001501035] // THAILAND\r\n    },\r\n    \"properties\": {\r\n        \"museum_count\": 2,\r\n        \"name\": 'THAILAND'\r\n    }\r\n},\r\n{\r\n    \"type\": \"Feature\",\r\n    \"geometry\": {\r\n        \"type\": \"Point\",\r\n        \"coordinates\": [78.42420521312602, 23.562988640162445] // INDIA\r\n    },\r\n    \"properties\": {\r\n        \"museum_count\": 1,\r\n        \"name\": 'INDIA'\r\n    }\r\n},\r\n{\r\n    \"type\": \"Feature\",\r\n    \"geometry\": {\r\n        \"type\": \"Point\",\r\n        \"coordinates\": [101.9916116369136, 5.386435151993808] // MALAYSIA\r\n    },\r\n    \"properties\": {\r\n        \"museum_count\": 1,\r\n        \"name\": 'MALAYSIA'\r\n    }\r\n},\r\n{\r\n    \"type\": \"Feature\",\r\n    \"geometry\": {\r\n        \"type\": \"Point\",\r\n        \"coordinates\": [-102.41966036947927, 24.99650323762758] // AMERICA MEXICO\r\n    },\r\n    \"properties\": {\r\n        \"museum_count\": 1,\r\n        \"name\": 'AMERICA MEXICO'\r\n    }\r\n},\r\n{\r\n    \"type\": \"Feature\",\r\n    \"geometry\": {\r\n        \"type\": \"Point\",\r\n        \"coordinates\": [-0.2147489, 5.5912077] // AFRICA GHANA (Acra)\r\n    },\r\n    \"properties\": {\r\n        \"museum_count\": 1,\r\n        \"name\": 'AFRICA GHANA (Acra)'\r\n    }\r\n},\r\n{\r\n    \"type\": \"Feature\",\r\n    \"geometry\": {\r\n        \"type\": \"Point\",\r\n        \"coordinates\": [-6.017481373549742, 32.97832278716733] // AFRICA MOROCCO\r\n    },\r\n    \"properties\": {\r\n        \"museum_count\": 1,\r\n        \"name\": 'AFRICA MOROCCO'\r\n    }\r\n},\r\n{\r\n    \"type\": \"Feature\",\r\n    \"geometry\": {\r\n        \"type\": \"Point\",\r\n        \"coordinates\": [40.5813355, 24.0133287] // SAUDI ARABIA\r\n    },\r\n    \"properties\": {\r\n        \"museum_count\": 1,\r\n        \"name\": 'SAUDI ARABIA'\r\n    }\r\n},\r\n{\r\n    \"type\": \"Feature\",\r\n    \"geometry\": {\r\n        \"type\": \"Point\",\r\n        \"coordinates\": [116.1172816, 39.9385466] // China Beijing\r\n    },\r\n    \"properties\": {\r\n        \"museum_count\": 1,\r\n        \"name\": 'China Beijing'\r\n    }\r\n},\r\n{\r\n    \"type\": \"Feature\",\r\n    \"geometry\": {\r\n        \"type\": \"Point\",\r\n        \"coordinates\": [127.7961752, 43.4977858] // China YANBIAN\r\n    },\r\n    \"properties\": {\r\n        \"museum_count\": 1,\r\n        \"name\": 'China YANBIAN'\r\n    }\r\n},\r\n{\r\n    \"type\": \"Feature\",\r\n    \"geometry\": {\r\n        \"type\": \"Point\",\r\n        \"coordinates\": [121.5575926, 31.0543299] // China SHANGHAI\r\n    },\r\n    \"properties\": {\r\n        \"museum_count\": 1,\r\n        \"name\": 'China SHANGHAI'\r\n    }\r\n},\r\n{\r\n    \"type\": \"Feature\",\r\n    \"geometry\": {\r\n        \"type\": \"Point\",\r\n        \"coordinates\": [102.8644781, 45.5133053] // MONGOLIA\r\n    },\r\n    \"properties\": {\r\n        \"museum_count\": 1,\r\n        \"name\": 'MONGOLIA'\r\n    }\r\n},\r\n{\r\n    \"type\": \"Feature\",\r\n    \"geometry\": {\r\n        \"type\": \"Point\",\r\n        \"coordinates\": [22.2384469, 38.1245117] // EUROPE GREECE\r\n    },\r\n    \"properties\": {\r\n        \"museum_count\": 1,\r\n        \"name\": 'EUROPE GREECE'\r\n    }\r\n}\r\n];\r\nmap.on('load', function () {\r\n    map.loadImage('https://raw.githubusercontent.com/sungkuk5420/nomad-coders-map/master/images/spot_black.png', function (error, image) {\r\n        // map.loadImage(spotImage, function (error, image) {\r\n        // map.loadImage('https://cdn1.iconfinder.com/data/icons/clean-simple/75/iconlocation-12-512.png', function (error, image) {\r\n        //   map.loadImage('https://cdn4.iconfinder.com/data/icons/superuser-web-kit/512/674020-point-of-interest_interest_point_venue_spot_place_location_site-512.png', function(error, image) {\r\n        if (error) throw error;\r\n        map.addImage('cat', image);\r\n        map.addSource('clusters', {\r\n            type: \"geojson\",\r\n            data: {\r\n                \"type\": \"FeatureCollection\",\r\n                \"features\": window.features\r\n            }\r\n        });\r\n\r\n        map.addLayer({\r\n            \"id\": \"clusters-label\",\r\n            \"type\": \"symbol\",\r\n            \"source\": \"clusters\",\r\n            \"layout\": {\r\n                \"text-field\": \"{museum_count}\",\r\n                \"text-font\": [\r\n                    \"DIN Offc Pro Medium\",\r\n                    \"Arial Unicode MS Bold\"\r\n                ],\r\n                \"icon-allow-overlap\": true,\r\n                \"icon-ignore-placement\": true,\r\n                \"text-size\": 16,\r\n                \"icon-image\": \"cat\",\r\n                \"icon-size\": 0.8\r\n            }\r\n        });\r\n    });\r\n});\r\n\r\nmap.on('click', 'clusters-label', function (e) {\r\n    console.log(e);\r\n    document.getElementById('searchtext').value = e.features[0].properties.name;\r\n    window.userfilter(e.features[0].properties.name);\r\n    map.flyTo({\r\n        center: e.features[0].properties.coordinates\r\n    });\r\n    // map.zoomTo(19, {duration: 1000});\r\n});\r\n\r\nvar timer;\r\nwindow.userfilter = (keyword, cb) => {\r\n    window.keyword = keyword.toUpperCase();\r\n    console.log(keyword);\r\n    if (timer) {\r\n        clearTimeout(timer);\r\n    }\r\n    timer = setTimeout(function () {\r\n        var users = document.querySelectorAll('.user');\r\n        console.log(users);\r\n        var usersData = [];\r\n        var firstBL = false;\r\n        if (document.querySelector('.first-row-div')) {\r\n            document.querySelector('.first-row-div').classList.remove('first-row-div');\r\n        }\r\n        for (let i = 0; i < users.length; i++) {\r\n            var element = users[i];\r\n            var userName = element.querySelector('.username').textContent.toUpperCase();\r\n            var area = element.querySelector('.area.tooltiptext').textContent.toUpperCase();\r\n            var keyword = window.keyword;\r\n            if ((userName.indexOf(keyword) !== -1) ||\r\n                (area.indexOf(keyword) !== -1)) {\r\n                element.style.display = 'table';\r\n                if (!firstBL) {\r\n                    console.log('first dom is ', userName);\r\n                    element.classList.add('first-row-div');\r\n                    firstBL = true;\r\n                }\r\n                usersData.push({\r\n                    name: userName,\r\n                    area\r\n                });\r\n            } else {\r\n                element.style.display = 'none';\r\n            }\r\n        }\r\n        if (cb) {\r\n            cb(usersData);\r\n        }\r\n    }, 500);\r\n\r\n};\r\n\r\nwindow.makerReLoad = (usersData) => {\r\n    function onlyUnique(value, index, self) {\r\n        value = value.toUpperCase();\r\n        return self.indexOf(value) === index;\r\n    }\r\n\r\n    // usage example:\r\n    // var uniqueUsersData = usersData.map((user) => user.area).filter(onlyUnique);\r\n    // var usersAreas = uniqueUsersData;\r\n    var usersAreas = usersData[0].area.split(',');\r\n    map.removeLayer('clusters-label');\r\n    var newFeatures = window.features.filter(function (currentArea) {\r\n        return usersAreas.includes(currentArea.properties.name.toString().toUpperCase());\r\n    });\r\n    map.getSource('clusters').setData({\r\n        \"type\": \"FeatureCollection\",\r\n        \"features\": newFeatures\r\n    });\r\n    map.addLayer({\r\n        \"id\": \"clusters-label\",\r\n        \"type\": \"symbol\",\r\n        \"source\": \"clusters\",\r\n        \"layout\": {\r\n            \"text-field\": \"{museum_count}\",\r\n            \"text-font\": [\r\n                \"DIN Offc Pro Medium\",\r\n                \"Arial Unicode MS Bold\"\r\n            ],\r\n            \"icon-allow-overlap\": true,\r\n            \"icon-ignore-placement\": true,\r\n            \"text-size\": 16,\r\n            \"icon-image\": \"cat\",\r\n            \"icon-size\": 0.08\r\n        }\r\n    });\r\n};"]}